{% extends "base.html" %}
{% block content %}
<div class="card shadow-sm">
  <div class="card-body">
    <h6 class="card-title mb-3">Log Donation</h6>
    <form method="post" action="{{ url_for('donate') }}">

      <div class="row g-3">
        <div class="col-md-4">
          <label class="form-label">Select Donor (optional)</label>
          <select name="donor_id" class="form-select">
            <option value="none">-- None / Walk-in --</option>
            {% for d in donors %}
              <option value="{{ d.id }}">{{ d.name }} ({{ d.blood_group }})</option>
            {% endfor %}
          </select>
        </div>
        <div class="col-md-3">
          <label class="form-label">Blood Group (if no donor)</label>
          <select class="form-select" name="blood_group">
            <option value="">Select</option>
            {% for g in groups %}
              <option value="{{ g }}">{{ g }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="col-md-2">
          <label class="form-label">Units</label>
          <input type="number" name="units" class="form-control" min="1" value="1" required>
        </div>
        <div class="col-md-3">
          <label class="form-label">Date</label>
          <!-- yaha datetime ki jagah 'today' variable use karenge jo app.py se aayega -->
          <input type="date" name="date" class="form-control" value="{{ today }}">
        </div>
      </div>
      <div class="mt-3">
        <button class="btn btn-danger">Save</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
